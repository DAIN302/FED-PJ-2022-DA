<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>for문 연습1 - 파란상자에 미니언즈 집어넣기</title>
    <style>
        /* 미니언즈 이미지 */
        .mini {
            cursor: pointer;
            /* 손가락모양 */
            border: 5px dotted #fff;
        }

        /* 마우스오버시 보더색 변경 */
        .mini:hover {
            border-color: red;
        }

        /* 파란색 가방 */
        .Bcase {
            border: 20px ridge blue;
            min-height: 250px;
            /* 최소높이를 주면 설정높이를 유지하다가
            내용이 많아지면 높이값이 늘어남! */
        }

        .Bcase img {
            width: 150px;
            /* 크기줄임 */
        }
    </style>
    <!-- JS 코드 구역 -->
    <script>
        // html 모두 로딩 후 실행구역 ////
        window.addEventListener("DOMContentLoaded", loadFn)
        // 로드이벤트 : load / DOMContentLoaded

        /******************************************************************
            함수명 : loadFn
            기능 : 로딩 후 바로 실행하는 코드구역 
        *****************************************************************/
       function loadFn() {
        //1. 로딩함수 호출확인
        // console.log("메메메메메메메롱");

        // 2. 대상선정 
        // 2-1. 이벤트 대상 : .mini
        var mini =  document.querySelectorAll(".mini"); 
        // 2-2. 변경 대상 : .Bcase
        var Bcase = document.querySelector(".Bcase");
        // console.log(mini, Bcase);
        // 2-3. 리셋버튼 : .rbtn
        var rbtn = document.querySelector(".rbtn");
        // 2-4. 전체 개수 표시 : .stxt span
        var stxt = document.querySelector(".stxt span");


        // 3. 이벤트 세팅
        // 이벤트 종류 : click
        // for 문으로 버튼 개수만큼 돌아서 세팅
        var miniL = mini.length
        for(var i = 0; i < miniL ; i++) {
            // 반복조건 : 0부터 시작 mini 개수보다 작을 동안 1씩 증가하며 반복
            // console.log("돌돌", i);
            // 1. 미니언즈 이미지 마다 클릭 설정
            mini[i].onclick = function(){
                // 바깥 for문의 i는 최종결과의 값만 내부에 찍힘
                // 1. 클릭된 이미지의 data-cnt 값 읽어오기
                var cnt = this.getAttribute("data-cnt");
                // this 키워드 : 이벤트 설정된 요소 자신
                // getAttribute(속성명) -> 속성값 읽어오기
                // alert("나능 몇개?"+cnt);
                // 2. 파란상자에 미니언즈 넣기
                // += 대입연산자로 기존데이터에 더함 
                // for문으로 반복개수만큼 미니언즈 넣기
                for(var j = 0; j < cnt; j++) {
                Bcase.innerHTML += `
                <img src="./images/Minions.png" alt="미니언즈">`;
            } // for 문 끝

            // 3. for문으로 미니언즈를 모두 추가 후 현재개수 표시 함수 호출
            showCnt();
            }; // click 이벤트 함수
            // mini[순번] = mini.item(순번)
        } // for문 끝

        // 4. 리셋버튼 세팅 
        // 대상 : 이벤트대상 - rbtn / 변경대상 - Bcase
        // 변경내용 : Bcase의 내용 지우기
        rbtn.onclick = function() {
            // 1. 호출확인
            // console.log("지우장");
            // 2. 파란상자 내용 지욱;
            Bcase.innerHTML = "";
            // 3. 개수 표시 초기화
            stxt.innerHTML = "0";
        } // 클릭이벤트 함수 끝 //

        // 리셋버튼 디자인변경
        rbtn.style.fontSize = "40px";
        rbtn.style.margin = "10px";

        // 5. 현재 미니언즈 숫자 표시
        // 대상 : .stxt span
        // 할당형 함수를 만들어서 미니언즈를 추가할 때마다 이 함수를 호출하게 함
        var showCnt = function(){
            // 1. 호출확인
            // console.log("지금 몇개?");
            // 2. 파란상자 안에 있는 미니언즈 이미지 개수 읽어오기
            var cnt = Bcase.querySelectorAll("img").length;
            // 3. 표시 요소에 개수 보내기
            stxt.innerHTML = cnt;
        } ///// showCnt 함수 끝
       } ///////////// 함수끝 /////////

    </script>
</head>

<body>
    <h1>for문 연습1 - 파란상자에 미니언즈 집어넣기</h1>
    <img src="./images/Minions.png" alt="미니언즈" class="mini" title="나를 클릭하면 한개씩 가방에 들어갈꼬얌~!" data-cnt = "1">
    <img src="./images/Minions.png" alt="미니언즈" class="mini" title="나를 클릭하면 다섯개씩 가방에 들어갈꼬얌~!" data-cnt = "5">
    <img src="./images/Minions.png" alt="미니언즈" class="mini" title="나를 클릭하면 열개씩 가방에 들어갈꼬얌~!" data-cnt = "10">
    <!-- data-cnt : 각 미니언즈를 몇 개씩 넣을지에 대한 정보값 -->
    <!-- 현재 미니언즈 숫자 표시 -->
    <h2 class="stxt">
        현재 미니언즈의 그룹 개수는? <span>0</span>개
    </h2>

    <!-- 
        [ 데어트를 저장하기 위한 속성 사용 ]
          개발자가 임의로 만들 수 있는 속성은 시작할 때 data- 로 씀    
          형식 :
          <요소 data-내가만든이름 = "값" >
    -->

    <!-- 리셋을 한다면 이렇게...! -->
    <button class="rbtn">리셋</button>

    <!-- 파란상자 -->
    <div class="Bcase"></div>

</body>
</html>